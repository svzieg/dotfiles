[general]
pythonfile = ~/.offlineimap.py
# accounts = Gmail, Gmx, Photography, Work
accounts = Gmail, Gmx, Photography, Work
sslcacertfile = /etc/ssl/certs/ca-certificates.crt


[mbnames]

# offlineimap can record your mailbox names in a format you specify.
# You can define the header, each mailbox item, the separator,
# and the footer.  Here is an example for Mutt.
# If enabled is yes, all six setting must be specified, even if they
# are just the empty string "".
#
# The header, peritem, sep, and footer are all Python expressions passed
# through eval, so you can (and must) use Python quoting.

enabled = yes
filename = ~/mail/mailboxes
header = "mailboxes "
peritem = "+%(accountname)s/%(foldername)s"
sep = " "
footer = "\n"



[Account Gmail]
localrepository = GmailLocal
remoterepository = GmailRemote
presynchook = /home/svzieg/.local/bin/maildir-notmuch-sync pre /home/svzieg/mail/Gmail
postsynchook = /home/svzieg/.local/bin/maildir-notmuch-sync post /home/svzieg/mail/Gmail

[Account Gmx]
localrepository = GmxLocal
remoterepository = GmxRemote
presynchook = /home/svzieg/.local/bin/maildir-notmuch-sync pre /home/svzieg/mail/Gmx
postsynchook = /home/svzieg/.local/bin/maildir-notmuch-sync post /home/svzieg/mail/Gmx

[Account Work]
localrepository = WorkLocal
remoterepository = WorkRemote
presynchook = /home/svzieg/.local/bin/maildir-notmuch-sync pre /home/svzieg/mail/Work
postsynchook = /home/svzieg/.local/bin/maildir-notmuch-sync post /home/svzieg/mail/Work

[Account Photography]
localrepository = PhotographyLocal
remoterepository = PhotographyRemote
presynchook = /home/svzieg/.local/bin/maildir-notmuch-sync pre /home/svzieg/mail/Photography
postsynchook = /home/svzieg/.local/bin/maildir-notmuch-sync post /home/svzieg/mail/Photography

[Repository GmailRemote]
type = Gmail
remoteusereval = get_username("gmail")
# probably a bad idea
remotepasseval = get_password("gmail")
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
ssl = yes
ssl_version = tls1_2
maxconnections = 5
nametrans = lambda folder: re.sub('.*Spam$', 'Spam', 
                           re.sub('.*Drafts$', 'Drafts', 
                           re.sub('.*Sent Mail$', 'Sent', 
                           re.sub('.*Starred$', 'Flagged', 
                           re.sub('.*Trash$', 'Trash', 
                           re.sub('.*Important$', 'Important', 
                           re.sub('.*All Mail$', 'Archive', folder)))))))

[Repository GmxRemote]
type = IMAP
remotehost = imap.gmx.net
remoteusereval = get_username("gmx")
remotepasseval = get_password("gmx")
maxconnections = 5
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
ssl = yes
# Besides, we only need `All Mail` folder.
# Sup would manage mails on its own.
# If your GMail language setting is not English, you can execute
# `offlineimap --info` to find out the name of folder which is
# translated and encoded after your account is configured.
nametrans = lambda folder: re.sub('.*Spam.*$',        'Spam', 
                           re.sub('.*Entw.*rfe$',     'Drafts', 
                           re.sub('.*Gesendet$',      'Sent', 
                           re.sub('.*Markiert$',      'Flagged', 
                           re.sub('.*Wichtig$',       'Important', 
                           re.sub('.*Gel.*scht$',     'Trash', 
                           re.sub('.*Archiv$',        'Archive',
                           folder)))))))




[Repository PhotographyRemote]
type = IMAP
remotehost = mail.svenziegler.photography
remoteusereval = get_username("photography")
remotepasseval = get_password("photography")
maxconnections = 5
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
ssl = yes

[Repository WorkRemote]
type = IMAP
remotehost = localhost
remoteport = 1143
remoteusereval = get_username("work")
remotepasseval = get_password("work")
maxconnections = 5
ssl = no

[Repository WorkLocal]
type = Maildir
localfolders = ~/mail/Work
restoreatime = no


[Repository GmailLocal]
type = GmailMaildir
localfolders = ~/mail/Gmail
restoreatime = no
nametrans = lambda folder: re.sub('Spam', '[Google Mail].Spam',
                           re.sub('Drafts', '[Google Mail].Drafts',
                           re.sub('Sent', '[Google Mail].Sent Mail',
                           re.sub('Flagged', '[Google Mail].Starred',
                           re.sub('Trash', '[Google Mail].Trash',
                           re.sub('Important', '[Google Mail].Important',
                           re.sub('Archive', '[Google Mail].All Mail', folder)))))))

[Repository GmxLocal]
type = Maildir
localfolders = ~/mail/Gmx
restoreatime = no
nametrans = lambda folder: re.sub('Spam$', 'Spamverdacht',
                           re.sub('Drafts', 'Entw&APw-rfe',
                           re.sub('Sent', 'Gesendet',
                           re.sub('Flagged', 'Markiert',
                           re.sub('Important', 'Wichtig',
                           re.sub('Trash', 'Gel&APY-scht',
                           re.sub('Archive', 'Archiv',
                           folder)))))))

[Repository WorkLocal]
type = Maildir
localfolders = ~/mail/Work
restoreatime = no

[Repository PhotographyLocal]
type = Maildir
localfolders = ~/mail/Photography
restoreatime = no
